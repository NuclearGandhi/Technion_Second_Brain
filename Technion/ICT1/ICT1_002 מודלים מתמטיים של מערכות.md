---
aliases:
---
# מבוא
כדי להבין מערכות בקרה מסובכות, עלינו לתאר אותם בעזרת מודלים מתמטיים. מאחר ורוב המערכות הן **דינמיות** בטבען, המודלים המתמטיים שיתארו אותם הם [[DEQ1_001 מבוא#משוואה דיפרנציאלית|משוואות דיפרנציאליות]]. אם משוואות אלו ניתנות ל[[LSY1_005 Linearization#Local Linearization Around an Equilibrium Point|לינאריזציה]], אז נוכל להשתמש ב[[LSY1_007 Laplace Transform#The Laplace Transform|התמרת לפלס]] כדי לפשט את דרך פתרון הבעיה.
בתאכלס, הסיבוכיות של המערכות ואי הוודאות שלנו לגבי הפרמטרים הרלוונטיים כופה עלינו לבצע הנחות לגבי אופן פעולת המערכת.

# משוואות דיפרנציאליות של מערכות פיזיקליות
נתחיל מדוגמה של מערכת קפיץ-מסה פיתולית עם מומנט פיתול $T_{a}(t)$ המופעל עליו:


![[Screenshot_20241105_131809_Drive.jpg|bookhue|300]]
>מערכת מסה-קפיץ פיתולית (torsional spring-mass system).

נניח שהקפיץ חסר מסה ואנו רוצים למדוד את הפיתול $T_{s}(t)$  המועבר למסה $m$. מאחר והקפיץ חסר מסה, סכום המומנטי פיתול הפעולים על הקפיץ חייב להתאפס (שקול כוחות):
$$
T_{a}(t)-T_{s}(t)=0
$$
מה שאומר ש- $T_{s}(t)=T_{a}(t)$. אנו רואים מיד שהמומנט פיתול החיצוני $T_{a}(t)$ המופעל בסוף הקפיץ מועבר *דרך* הקפיץ פיתול. לכן, אנו קוראים לפיתול **משתנה-דרך (through-variable)**. באותו אופן, הפרש המהירות הזוויתית הוא:
$$
\omega(t)=\omega_{s}(t)-\omega_{a}(t)
$$
כלומר, הפרש המהירות הזוויתית נמדד *לרוחב* הקפיץ פיתול, ולכן אנו קוראים להפרש זה **משתנה רוחבי (across-variable)**. באותו אופן אנו יכולים להכליל למקרים פיזיקליים שונים כדי לקבל את הטבלה הבאה:
![[Screenshot_20241105_133653_Drive 2.jpg|bookhue]]
>סיכום של משתני דרך ומשתני רוחב עבור מערכות פיזיקליות.

# פונקציית התמרה של מערכות לינאריות
ה[[LSY1_004 Linear State-Space Equation#Transfer Function|פונקציית התמרה]] של מערכת לינארת מוגרת כהיחס של ההתמרת לפלס של הפלט להתמרת לפלס של הקלט, כאשר אנו מניחים תנאי התחלה אפסיים.
פונקציית התמרה מוגדרת רק עבור מערכת לינארית וקבועה (קבועה בזמן). במערכת שהיא לא קבועה בזמן (time-varying system) לא נוכל להשתמש בהתמרת לפלס שלה. בנוסף, הפונקציית התמרה היא תיאור של התנהגות הקלט-פלט של מערכת. כלומר, הפונקציית התמרה לא מתארת את המבנה הפנימי של המערכת והתנהגותה.

>[!example] דוגמה: פונקציית התמרה של מערכת שתי מסות
>נביט במערכת המכנית הבאה:
>![[{2ECAEA73-B47A-43BE-8756-4C64A887BC0E}.png|bookhue|400]]
>מחוק שני על כל אחד מהמסות, לאחר התמרת לפלס, נקבל את המשוואה:
>$$
> \begin{gathered}
>{M}_{1}s{V}_{1}(s)+({b}_{1}+{b}_{2}){V}_{1}(s)-{b}_{1}{V}_{2}(s)=R(s)
>\end{gathered}
> $$
>ועל המסה השנייה:
>$$
> {M}_{2}s{V}_{2}(s)+{b}_{1}{V}_{2}((s)-{V}_{1}(s))+k \dfrac{{V}_{2}(s)}{s}=0
> $$
>נסדר את שתי משוואות אלו כדי לקבל את מערכת המשוואות:
>$$
> \begin{gathered}
>({M}_{1}s+({b}_{1}+{b}_{2})){V}_{1}(s)+(-{b}_{1}){V}_{2}(s)=R(s) \\
>(-{b}_{1}){V}_{1}(s)+\left( {M}_{2}s+{b}_{1}+\dfrac{k}{s} \right){V}_{2}(s)=0
>\end{gathered}
> $$
>או, באופן מטריצי:
>$$
> \begin{pmatrix}
>{M}_{1}s+{b}_{1}+{b}_{2} & -{b}_{1} \\
>-{b}_{1} & {M}_{2}s+{b}_{1}+\dfrac{k}{s}
>\end{pmatrix}\begin{pmatrix}
>{V}_{1}(s) \\
>{V}_{2}(s)
>\end{pmatrix}=\begin{pmatrix}
>R(s) \\
>0
>\end{pmatrix}
> $$
>בהנחה והפלט שאנו מעוניים בו הוא המהירות של ${M}_{1}$, אנו נפתור עבור ${V}_{1}(s)$:
>$$
> {V}_{1}=\dfrac{({M}_{2}s+{b}_{1}+k/s)R(s)}{({M}_{1}s+{b}_{1}+{b}_{2})({M}_{2}s+{b}_{1}+k/s)-{{b}_{1}}^{2}}
> $$
>כך הפונקציית התמרה של המערכת המכנית היא:
>$$
> \begin{aligned}
>G(s) =\dfrac{{V}_{1}(s)}{R(s)} & =\dfrac{{M}_{2}s+{b}_{1}+k/s}{({M}_{1}s+{b}_{1}+{b}_{2})({M}_{2}s+{b}_{1}+k/s)-{{b}_{1}}^{2}} \\[1ex]
 >& =\dfrac{{M}_{2}s^{2}+{b}_{1}s+k}{({M}_{1}s+{b}_{1}+{b}_{2})({M}_{2}s^{2}+{{b}_{1}}^{2}+k)-{{b}_{1}}^{2}s}
>\end{aligned}
> $$


>[!example] דוגמה: פונקציית התמרה של מנוע DC
>מנוע DC הוא *מפעיל* שמספק אנרגיה לעומס מסוים, כפי שמוצג באיור הבא:
> ![[Screenshot_20241105_135444_Drive 1.jpg|bookhue]]
>המנוע DC ממיר אנרגיה חשמלית של זרם ישר (DC) לארגיה מכנית סיבובית. חלק גדול מהפיתול שנוצר ברוטור (הזרוע של המנוע) משומש כדי ליצור עומס חיצוני.
>הפונקציית התמרה של מנוע DC שנבנה מזניח כל מני אפקטים ממעלה שנייה כמו מפלי מתח לרוחב המברשות, כך שאנו מניחים שהוא לינארי. בעזרת חוקים מכניים וחשמליים, אנו יכולים לבנות את הדיאגרמת בלוקים הבאה:
> ![[Screenshot_20241105_141550_Drive.jpg|bookhue]]
>ולקבל כי הפונקציית התמרה היא:
>$$
> G(s)=\dfrac{\theta(s)}{V_{f}(s)}=\dfrac{K_{m}}{s(Js+b)(L_{f}s+R_{f})}
> $$

# דיאגרמות בלוקים
המערכות הדינמיות שמרכיבות מערכת בקרה משובית לרוב מתוארות מתמטית ע"י מספר משוואות דיפרנציאליות. ראינו ב[[LSY1_000 034032 Linear Systems E|מערכות לינאריות]] שאת המשוואות הדיפרנציאליות נוכל להפוך לפונקציית התמרה המקשרת בין הקלט והפלט של כל תת-מערכת. את קשר פעולה ותגובה זה נהוג להציג בדיאגרמת בלוקים. באיור הבא מוצג דיאגרמת בלוק של מנוע DC:
![[Screenshot_20241105_134424_Drive.jpg|bookhue|400]]
>דיאגרמת בלוק של מנוע DC.

כדי לתאר מערכת עם מספר משתנים בבקרה, נידרש להשתמש בחיבור בלוקים. למשל, המערכת באיור הבא כוללת שני משתני קלט ושני משתני פלט:
![[{85301975-0205-4A21-BCA0-65E354F915FE}.png|bookhue|400]]
>ייצוג בלוק של מערכת עם שני משתני קלט ושני משתני פלט.

בעזרת הפונקציות התמרה נוכל לרשום את המשוואות המתארות את מערכת זו:
$$
\begin{aligned}
 & {Y}_{1}(s)={G}_{11}(s){R}_{1}(s)+{G}_{12}(s){R}_{2}(s) \\[1ex]
 & {Y}_{2}(s)={G}_{21}(s){R}_{1}(s)+{G}_{22}(s){R}_{2}(s)
\end{aligned}
$$
כאשר ${G}_{ij}(s)$ הוא הפונקציית התמרה שמקשר בין הפלט ה-$i$ לקלט ה-$j$. הדיאגרמת בלוקים המייצגת את מערכת משוואות זו מוצגת באיור הבא:
![[{791B74D5-7B99-4985-AA3A-58BE0AFFEB47}.png|bookhue|400]]
>דיאגרמת בלוקים של מערכת עם שני משתני קלט ושני משתני פלט.

במקרה הכללי, עבור קלטים $J$ ופלטים $I$, נוכל לרשום את מערכת המשוואות באופן מטריצי:
$$
\begin{pmatrix}
{Y}_{1}(s) \\
{Y}_{2}(s) \\
\vdots  \\
Y_{I}(s)
\end{pmatrix}=\begin{pmatrix}
{G}_{11}(s) & \cdots &  G_{1J}(s) \\
{G}_{21}(s) & \cdots & G_{2J}(s) \\
\vdots  &  & \vdots  \\
G_{I1}(s) & \cdots  & G_{IJ}(s)
\end{pmatrix}\begin{pmatrix}
{R}_{1}(s) \\
{R}_{2}(s) \\
\vdots  \\
R_{J}(s)
\end{pmatrix}
$$
או:
$$
\mathbf{Y}(s)=\mathbf{G}(s)\mathbf{R}(s)
$$
הדיאגרמת בלוקים של מערכת לרוב ניתנת לפישוט - הרי במערכות לינאריות פעולת ההכפלה היא קומוטטיבית. להלן טבלה המסכמת את אופן הפישוט:
![[{E804A4DA-B673-4215-99FF-AF73D79F2862}.png|bookhue]]
>התמרת דיאגרמות בלוקים.


