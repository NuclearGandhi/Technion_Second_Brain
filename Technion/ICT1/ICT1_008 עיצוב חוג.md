---
aliases:
---
# מבוא
ב[[ICT1_007 משוב בהגברים גבוהים|פרק קודם]] ראינו כיצד אנו מאפסים את אות השגיאה במצב מתמיד ${e}_{\text{ss}}$ עבור אותות ייחוס והפרעות שונות. אבל מה אם אנו לא חייבים ש- ${e}_{\text{ss}}=0$, או מה אם ל-$r$ או-$d$ יש ספקטרום רחב של תדירויות והגבר גבוה במצב מתמיד לא ישים?

# ביצועים במצב מתמיד
## מעקב אחר אות ייחוס

נביט במערכת הבאה:
![[{8EC55973-9585-406A-8757-AE177AFA2E96}.png|bookhue|450]]

>[!TODO] TODO: לשנות טיפה מלל

נסמן ב-${\Omega}_{r}$ את טווח התדירויות עבורו הספקטרום של $r$ מרוכז. אנו מבינים ש:
$$\lvert E(j\omega) \rvert \ll  \lvert R(j\omega) \rvert ,\qquad \forall \omega \in {\Omega}_{r} $$
כאשר $E$ ו-$R$ הן התמרות לפלס של $e$ ו-$r$ בהתאמה.
לכן [[ICT1_005 מבוא למשוב#משוב יחידה|פונקציית הרגישות]] מקיימת:
$$\lvert S(j\omega) \rvert \ll  1,\qquad \omega \in {\Omega}_{r}$$
כאשר נזכור ש- $e=Sr$ אם $d=n=0$.

נסמן את פונקציית התמסורת של החוג הסגור כ- $L(s):=P(s)C(s)$, כך ש:
$$S(s)=\dfrac{1}{1+L(s)}$$
ולכן, לפי [[BMA1_005 ערך מוחלט#תכונות הערך המוחלט|אי שוויון המשולש]]:
$$\lvert S(j\omega) \rvert \leq  \dfrac{1}{\lvert L(j\omega) \rvert -1 }\qquad \text{whenever}\qquad  \lvert L(j\omega) \rvert >1$$
אנו רוצים להבטיח ש- $S(j\omega)$ יהיה קטן מחסם כלשהו ${\sigma}_{r}<1$. לכן, לפי הקשר לעיל, אם:
$$\lvert L(j\omega) \rvert \geq  \dfrac{1+{\sigma}_{r}}{{\sigma}_{r}}=1+\dfrac{1}{{\sigma}_{r}}>2$$
אז
$$\lvert S(j\omega) \rvert \leq  {\sigma}_{r}<1$$
לכל $\omega \in{\Omega}_{r}$.
בגדול, כדי לקבל מעקב אחר אות ייחוס במצב מתמיד *טוב*, נדרוש ש- $\lvert L(j\omega) \rvert>2$, יענו הגבר גבוה בחוג, בטווח התדירויות $\omega \in {\Omega}_{r}$.

## הפחתת הפרעות
באותו אופן, כאשר נתמקד בהפרעה:
![[{1152A8DD-D067-4C15-ABED-49037F5C2DDE}.png|bookhue|450]]
נסמן ב- ${\Omega}_{d}$ את טווח התדירויות בו $d$ מרוכז. כדי לקבל הפחתת הפרעות *טובה* במצב מתמיד, אנו מבינים שצריך להתקיים:
$$\lvert E(j\omega) \rvert =\lvert Y(j\omega) \rvert \ll D(j\omega),\qquad \forall \omega \in {\Omega}_{d}$$
כאשר $Y$ ו-$D$ הן התמרות לפלס של $y$ ו-$d$ בהתאמה.
לכן, פונקציית הרגישות להפרעה צריכה לקיים:
$$\lvert {T}_{d}(j\omega) \rvert =\lvert P(j\omega) \rvert \lvert S(j\omega) \rvert \ll  1,\qquad \forall \omega \in {\Omega}_{d}$$
כאשר נזכור ש- $y=-e={T}_{d}d$ אם $r=n=0$.
כעת, באותו אופן כמו במקרה הקודם, נשים לב שנצטרך הפעם לדרוש:
$$\lvert L(j\omega) \rvert \geq  1+\dfrac{\lvert P(j\omega) \rvert }{{\sigma}_{d}}$$
ואז נקבל ש:
$$\lvert P(j\omega) \rvert \lvert S(j\omega) \rvert \leq  {\sigma}_{d}<1$$
לכל $\omega \in{\Omega}_{d}$.
שוב, , כדי לקבל הפחתת הפרעות במצב מתמיד *טובה*, הגבר גבוה בחוג, בטווח התדירויות $\omega \in {\Omega}_{d}$.

## רגישות לרעש מדידה
![[{3CFD59CF-1009-4987-95AB-159BB53EE736}.png|bookhue|500]]
נסמן ב- ${\Omega}_{n}$ את טווח התדירויות בו $n$ מרוכז. כדי לקבל רגישות לרעש מדידה *נמוכה* במצב מתמיד, אנו מבינים שצריך להתקיים:
$$\lvert E(j\omega) \rvert =\lvert Y(j\omega) \rvert \ll N(j\omega),\qquad \forall \omega \in {\Omega}_{n}$$
כאשר $N$ היא התמרת לפלס של $n$.
לכן, פונקציית הרגישות המשלימה צריכה לקיים:
$$\lvert {T}_{}(j\omega) \rvert \ll  1,\qquad \forall \omega \in {\Omega}_{n}$$
כאשר נזכור ש- $y=-e=Tn$ אם $r=d=0$.

>[!TODO] TODO: לסדר, לא נכון

כעת, באותו אופן כמו במקרה הקודם, נשים לב שנצטרך הפעם לדרוש:
$$\lvert L(j\omega) \rvert \geq  1+\dfrac{\lvert P(j\omega) \rvert }{{\sigma}_{d}}$$
ואז נקבל ש:
$$\lvert P(j\omega) \rvert \lvert S(j\omega) \rvert \leq  {\sigma}_{d}<1$$
לכל $\omega \in{\Omega}_{d}$.
שוב, , כדי לקבל הפחתת הפרעות במצב מתמיד *טובה*, הגבר גבוה בחוג, בטווח התדירויות $\omega \in {\Omega}_{d}$.

## עיצוב חוג
ראינו שמצד אחד, אנו צריכים הגבר גבוה בחוג, עבור $\omega \in{\Omega}_{r}$ ו-$\omega \in{\Omega}_{d}$, ומצד שני, אנו צריכים הגבר נמוך ב- $\omega \in{\Omega}_{n}$. למזלנו, ברוב המקרים יש הפרדה בין התדרים:
- אותות ייחוס הן "איטיות", יענו ${\Omega}_{r}$ בתדרים נמוכים.
- רעש מדידה הוא "מהיר", יענו ${\Omega}_{n}$ בתדרים גבוהים.

בנוסף, מאחר ורוב התהליכים הפיזיקליים הם low-pass, אנו צריכים לדאוג רק מהפרעות "איטיות".

לכן, נרצה לעצב את החוג עם:
- הגבר חוג גבוה, $L(j\omega)\gg 1$, בתדרים "נמוכים".
- הגבר חוג נמוך, $L(j\omega)\ll 1$, בתדרים "גבוהים".

כלומר, נרצה שהגרף בודה של $L$ תיראה מהצורה:
![[{91B2F122-677F-4104-A450-B85FDDB64036}.png|bookhue|500]]
>צורת גרף בודה-הגבר של $L$ רצויה. [[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].


לאופן תכן זה אנו קוראים **עיצוב חוג (loop shaping)**.

# ביצועים בתגובת מעבר
אנו בעיקר מעוניינים בביצועי תגובת המעבר של אות היחוס:
![[{8EC55973-9585-406A-8757-AE177AFA2E96}.png|bookhue|450]]
ואנו מודדים אותו על בסיס תגובת מדרגה (המהירות שלה ומידת החלקלקות שלה).

אנו יודעים מ[[ICT1_004 ניתוח מודלי וניתוח תגובת תדירות#ניתוח תגובת תדירות|ניתוח תגובת תדירות]] שמאפייני תגובת המעבר במישור הזמן והתדירות הם:
- ככל שרוחב הפס של $T(j\omega)$ יותר רחב, תגובת המדרגה יותר מהירה.
- ככל ששיאי הרזוננס של $T(j\omega)$ יותר גבוהים, נקבל תגובת-יתר או תגובת חסר יותר גדולה (overshoot ו-undershoot).

נוכל לבטא את תנאים אלו על $L(j\omega)$ בעזרת [[LSY1_009 Frequency Domain Analysis#Polar Diagram|גרף פולארי]]. עבור $\omega$ כלשהו, $\lvert 1+L(j\omega) \rvert$ הוא המרחק בין הנקודות $L(j\omega)$ ו- $-1+j 0$ במישור המרוכב של $L(j\omega)$:
![[{9809A72C-F65B-4BBD-B79B-5661390815FC}.png|bookhue|400]]
>גרף פולארי של $L(j\omega)$. [[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].


לכן, ככל ש- $L(j\omega)$ יותר קרוב ל- $-1+j 0$, ההגבר $\lvert T(j\omega) \rvert=\dfrac{\lvert L(j\omega) \rvert}{\lvert 1+L(j\omega) \rvert}$ יותר גבוה. למשל, עבור
$$L(s)=\dfrac{k\sqrt{ 2 }}{(s+1)(s^{2}+s+1)}$$
לערכי $k\in \{ 0.5,1,2 \}$, הגרף הפולארי של $L(j\omega)$ ייראה מהצורה:
![[{3A4CBECB-188D-42D4-B854-DE67D441BADC}.png|bookhue|400]]
>הגרף הפולארי של $L(j\omega)$ הנתון. [[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].


והגרף בודה-הגבר של $\lvert T(j\omega) \rvert$ יהיה:
![[{B1D01536-8029-49E5-91C5-2DC08A70E83C}.png|bookhue|400]]
>הגרף בודה-הגבר של $T(j\omega)$ עבור ה-$L(j\omega)$ הנתון. [[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].

## אזור ותדירות הצטלבות
>[!TODO] TODO: להשלים


# מאמץ בקרה בחוג סגור

## מאמץ בקרה במצב מתמיד

עבור המערכת הבאה:
![[{4897FC32-BD60-4C73-95BB-39D835FCEAAF}.png|bookhue|500]]

נזכור מ[[ICT1_005 מבוא למשוב#רעש מדידה|משוב יחידה]] ש:
$$u={T}_{c}r-Td-{T}_{c}n$$
לכן, המאפיינים של האות בקרה בחוג סגור תלויים במאפיינים של ${T}_{c}$ ו-$T$ (לעומת המאפיינים של ${C}_{\text{ol}}$ בחוג הפתוח).

מאחר ו:
$$\lvert {T}_{c}(j\omega) \rvert =\dfrac{\lvert T(j\omega) \rvert }{\lvert P(j\omega) \rvert }$$
המאפיינים של $u$ נקבעים על ידי הקשרים בין הרוחבי פס המבוקרים ורוחבי הפס הלא מבוקרים.

למשל, אם גם $P$ ו-$T$ הם פילטרים low-pass ו-${\omega}_{b,T}>{\omega}_{b,P}$, אנו נצפה ש- $\lvert {T}_{c}(j\omega) \rvert$ גדל עם $\omega \in({\omega}_{b,P},\,{\omega}_{b,T})$. לכן, אם ${\omega}_{b,T}\gg\omega _b,P$, אנו נקבל ש- $\lvert {T}_{c}(j\omega) \rvert\gg 1$ סביב ${\omega}_{b,T}$, שיכול להיות שזה לא בתקציב שלנו.

>[!TODO] TODO: להשלים

# יציבות בעיצוב חוג
## קריטריון יציבות נייקוויסט

## עיקרון ארגומנט של קושי
תהי פונקציה מרוכבת $f(s)$. לכל $s \in \mathbb{C}$ מהמקור שלה, גם $f(s)\in \mathbb{C}$. אנו אומרים ש-$s$ *מועתקת* ע"י $f$ ממישור $s$ למישור $f(s)$.
![[{D48EFE0C-6DBA-4390-8E7D-023CFE688BC8}.png|bookhue]]
>העתקה $f(s)=\dfrac{0.273(-s+0.2)}{(s+0.6)(s+1)(s+1.3)}$.

אם נבצע את ההעתקה לרצף של נקודות $s$, למשל עבור עקומה ${\Gamma}_{s}$ הנמצאת במישור $s$, ההעתק שלה גם יהיה עקומה ${\Gamma}_{f}$ במישור $f(s)$:

>[!TODO] TODO: להשלים

>[!theorem] משפט: 
> יהיה ${\Gamma}_{s}$ עקומה פשוטה וסגורה, $f(s)$ מרומורפי (הקטבים שלו הם סינגולריים) *בתוך* ו-*על* ${\Gamma}_{s}$, ${Z}_{f}$ הוא מספר האפסים של $f(s)$ בתוך ${\Gamma}_{s}$, ו-${P}_{f}$ הוא מספר הקטבים של $f(s)$ בתוך ${Z}_{s}$. אזי:
> אם ${\Gamma}_{s}$ לא עובר דרך האפסים או הקטבים של $f(s)$, אז ${\Gamma}_{f}$ מקיף את הראשית ${Z}_{f}-{P}_{f}$ פעמים עם כיוון השעון כאשר $s$ מתקדמת ב-${\Gamma}_{s}$ עם כיוון השעון.

למשל, עבור
$$f(s)=\dfrac{0.273(-s+0.2)}{(s+0.6)(s+1)(s+1.3)}$$
עם ${P}_{f}=3$ קטבים ו- ${Z}_{f}=0$ בתוך ${\Gamma}_{s}$:

![[{CAB076A0-1312-4DC0-9F01-FE362B00A5E7}.png|bookhue]]
>העתקה $f(s)$ על עקומה ${\Gamma}_{s}$.

לכן ${\Gamma}_{f}$ מקיף את הראשית $-3$ פעמים עם כיוון השעון (כך שהוא מקיף אותו $3$ פעמים נגד כיוון השעון).

נוכל גם להפעיל את אותו העיקרון אם ישנה הזזה בקבוע. למשל, אם $f(s)=\alpha+g(s)$ ל-$\alpha \in \mathbb{R}$ כלשהו, אז:
![[{9AFD4971-F91C-4899-8952-5F8795BF5A7D}.png|bookhue]]
>העתקה $f(s)$ ו-$g(s)$.