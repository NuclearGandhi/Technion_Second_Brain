---
aliases:
---
# התנהגות מג"ש בהגברים גבוהים

יהי ${G}_{k}(s)$ strictly proper עם הגבר שלילי בתדרים גבוהים. לכן, $n>m$ ו- ${b}_{m}<0$, כך שתמיד תהיה [[ICT1_006 שיטת מקום גיאומטרי של שורשים#אסימפטוטות|אסימפטוטה]] עם ${\phi}_{i}=0$, ואז תמיד לפחות אחד מהקטבים של החוג הסגור נמצא ב-RHP כאשר $k\to \infty$, מה שאומר שהגבר גבוה במערכת כזאת הוא בלתי אפשרי - הוא לא יהיה יציב.

אם למשל ${G}_{k}(s)$ הוא בפאזה מינימלית, ולפחות אחד מהאפסים של ${G}_{k}$ ב-RHP, אז כאשר  $k\to \infty$, תמיד ענף אחד מסתיים באפס זה, כך שלפחות קוטב אחד נמצא ב-RHP. שוב אנחנו בבעיה.

אם ${G}_{k}(s)$ עם עודף קטבים הגדול מ-$2$, אז $n-m>2$, ובהנחה ו- ${b}_{m}>0$, אז תמיד אחד מהאסימפטוטות עם זווית ${\phi}_{i}<\dfrac{\pi}{2}$, ואז לפחות שני קטבים (מסימטריה) של החוג הסגור נמצאים ב-RHP כאשר $k\to \infty$. בעיה.

אם ${G}_{k}(s)$ בפאזה מינימלית עם עודף קטבים $2$, אז $n-m=2$. בהנחה ו- ${b}_{m}>0$ וכל האפסים של ${G}_{k}(s)$ נמצאים בצד השלילי של הציר הממשי $\mathrm{Re}\{ s \}<0$, אז $n-2$ ענפים מסתיימים ב-LHP והשאר הולכים ל- $\pm j\infty$, כך שהמשוב בהגבר גבוה כאן אפשרי אמ"ם מרכז המסה של הקטבים והאפסים של המחוג הפתוח נמצא ב-LHP.

כאשר נבחן את המקרים של פאזה מינימלית עם עודף קטבים של אחד או אפס, נקבל שתמיד נוכל לבקר בהגברים גבוהים.

לסיכום:
מערכות בהן הגברים גבוהים במשוב ניתנים ליישום הם:
1. פאזה מינימלית ו- $m=n$.
2. פאזה מינימלית ו- $m=n-1$ וגם ${b}_{n-1}>0$.
3. פאזה מינימלית ו- $n=n-2$ וגם ${b}_{n-2}>0$, וגם $\dfrac{{a}_{n-1}}{{a}_{n}}>\dfrac{{b}_{n-3}}{{b}_{n-2}}$, למרות שבמקרה זה יהיה לנו זוג קטבים מרוסנים.

# ביצועי מצב מתמיד למערכות בחוג סגור
יהי $w$ אות כללי כלשהו. אם $e={T}_{ew}w$ ל-${T}_{ew}$ יציב כלשהו, אז:
$${e}_{\text{ss}}=\begin{cases}
\lvert {T}_{ew}(j\omega) \rvert & \text{if} \quad  w(t)=\sin(\omega t+\phi)\mathbb{1}(t) \\[1ex]
\lvert {T}_{ew}'(0) \rvert & \text{if}\quad  w(t)=\mathrm{ramp}(t) \quad  \quad \text{and}\qquad {T}_{ew}(0)=0
\end{cases}$$
ב[[ICT1_005 מבוא למשוב#משוב יחידה|מבוא למשוב]] הצגנו את הפונקציות תמסורת השונות במשוב יחידה, ומהן נסיק כי:
![[{1314F7B8-DEBB-4EBF-BDBA-CEE765ACBAAB}.png|bookhue|500]]

$$\begin{aligned}
e & =r-y \\[1ex]
 & =Sr-{T}_{d}d+Tn
\end{aligned}$$
נפרק ל-$w$ שונים:
- במקרה ו- $w\equiv r$, ו- $r(t)=\sin(\omega t+\phi)\mathbb{1}(t)$, אז:
	$${e}_{\text{ss}}=\lvert S(j\omega) \rvert =\dfrac{1}{\lvert 1+P(j\omega)C(j\omega) \rvert }$$
	בהנחה והמערכת יציבה פנימית.
	נרצה לדעת מתי ${e}_{\text{ss}}=0$. מהביטוי ל-${e}_{\text{ss}}$ לעיל נסיק שזה קורה אמ"ם $\lvert P(j\omega)C(j\omega) \rvert =\infty$. כדי שמכפלה זו תהיה $\infty$, מספיק שיתקיים שאחד מהקטבים של $P$ או $C$ הוא $j\omega$.
	נשים לב שתנאי זה הוא רק על $PC$ בתדירות מסוימת $\omega$.

- במקרה ו- $w\equiv d$, ו- $d(t)=\sin(\omega t+\phi)\mathbb{1}(t)$, אז:
	$${e}_{\text{ss}}=\lvert -{T}_{d}(j\omega) \rvert =\dfrac{1}{\lvert 1/P(j\omega)+C(j\omega) \rvert }$$
	כעת מתקיים ${e}_{\text{ss}}=0$ אמ"ם $P(j\omega)=0$ או $C(j\omega)=\infty$.

- במקרה ו- $w\equiv n$, ו- $n(t)=\sin(\omega t+\phi)$, אז:
	$${e}_{\text{ss}}=\lvert T(j\omega) \rvert =\left\lvert  \dfrac{P(j\omega)C(j\omega)}{1+P(j\omega)C(j\omega)}  \right\rvert $$
	כעת מתקיים ${e}_{\text{ss}}=0$ אמ"ם $P(j\omega)C(j\omega)=0$.
# איפוס שגיאה במנועי DC
למנוע DC תהליך מהצורה:
![[Screenshot_20241222_131325_Samsung Notes.jpg|bookhue|500]]

נחקור מתי השגיאה במצב מתמיד ${e}_{\text{ss}}$ תתאפס עבור כל אחד מהאותות, מסוג אות מדרגה, אות ריצה ($\mathrm{ramp}$) ואות תדירות.

## שגיאה עבור אות ייחוס מדרגה

השגיאה עבור $r(t)=\mathbb{1}(t)$ היא:
$${e}_{\text{ss}}=\lvert S(0) \rvert =\dfrac{1}{\lvert 1+P(0)C(0) \rvert }$$

במקרה זה לתהליך יש קוטב בראשית (אינטגרטור), כך שההגבר הסטטי שלו הוא
$$\lvert P(0)C(0)\rvert =\lim_{ s \to 0}\left\lvert  \dfrac{kC(s)}{s(\tau s+1)}  \right\rvert=\infty   $$
בהינתן ו- $C(0)\neq 0$, שזה נכון עבור כל בקר $C$ המייצב את המערכת.
נסיק ש- ${e}_{\text{ss}}=0$ אמ"ם $C$ מייצב את המערכת, שזה למשל נכון עבור $C(s)={k}_{p}$ לכל ${k}_{p}>0$.

## שגיאה עבור הפרעת מדרגה
![[Screenshot_20241222_132521_Samsung Notes.jpg|bookhue|500]]

במקרה של $d(t)=\mathbb{1}(t)$, השגיאה במצב מתמיד היא:
$${e}_{\text{ss}}=\dfrac{1}{\lvert 1/P(0)+C(0) \rvert }=\dfrac{1}{\lvert C(0) \rvert }$$
כאשר $1/P(0)$ נעלם לנו כי $P(0)= \infty$.
כדי ש- ${e}_{\text{ss}}=0$, נרצה ש- $\lvert C(0) \rvert=\infty$, וזה יתרחש רק אם יהיה לנו אינטגרטור $\dfrac{1}{s}$ ב-$C(s)$:
![[Screenshot_20241222_133255_Samsung Notes.jpg|bookhue|500]]
$$C(s)=\dfrac{{k}_{i}}{s}$$

האות בקרה
$$u(t)={k}_{i}\int_{0}^{t} e(\theta) \, \mathrm{d}\theta $$
נקרא **בקר אינטגרלי (integral contoller)**, או **בקר I**. הבקר הלא יציב $\dfrac{{k}_{i}}{s}$, מאפשר לנו ליצור אות בקרה $u(t)$ *שלא* שואף לאפס, אפילו אם $e(t)\to 0$. בעזרת אות בקרה שלא שואף לאפס ניתן בעצם לטפל במקרים של הפרעות קבועות, כמו במקרה לעיל של $d(t)=\mathbb{1}(t)$.
נביט במג"ש של המערכת:.
![[Screenshot_20241222_133359_Samsung Notes.jpg|bookhue|400]]
>מג"ש של המערכת הנתונה. [[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].

נשים לב שתמיד יש ענף ב-RHP, ולכן הבקר לא יהיה יציב עבור אף הגבר ${k}_{i}$. באסה.

נציע בקר מסוג אחר:
![[Screenshot_20241222_133802_Samsung Notes 1.jpg|bookhue|500]]

$$C(s)={k}_{p}\left( 1+\dfrac{{k}_{i}}{s} \right)=\dfrac{{k}_{p}(s+{k}_{i})}{s}$$
ואז האות בקרה הוא מהצורה:
$$u(t)={k}_{p}\left[ e(t)+{k}_{i}\int_{0}^{t} e(\theta) \, \mathrm{d}\theta  \right]$$
ולבקר זה קוראים בקר **פרופורציונלי-אינטגרלי (proportional-integral controller)**, או פשוט **בקר PI**. גם בקר זה מקיים ש-$u(t)$ לא שואף לאינסוף כאשר $e(t)\to 0$, אך הפעם יש לנו עוד דרגת חופש - אפס ב- $s=-{k}_{i}$.

המג"ש שלו עבור ערכי ${k}_{i}$ שונים:
![[Screenshot_20241222_133906_Samsung Notes.jpg|bookhue]]
מה שמראה לנו שניתן לייצב את המערכת אמ"ם מרכז הכובד בצד השלילי של הציר הממשי, כלומר אם $0<\tau {k}_{i}<1$. [[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].

## שגיאה עבור אות ייחוס ריצה
במידה ויש לנו $r(t)=\mathrm{ramp}(t)$, השגיאה במצב מתמיד:
$$\begin{aligned}
{e}_{\text{ss}} & =\left\lvert  \lim_{ s \to 0}sS(s) \dfrac{1}{s^{2}}  \right\rvert  \\[1ex]
 & =\lim_{ s \to 0} \dfrac{1}{\lvert s(1+P(s)C(s)) \rvert } \\[1ex]
 & =\lim_{ s \to 0} \dfrac{1}{\lvert s+kC(s)/\tau s+1 \rvert } \\[1ex]
 & =\dfrac{1}{k\lvert C(0) \rvert }
\end{aligned}$$
לכן, ככל ש- $\lvert C(0) \rvert$ גדול יותר, כך ${e}_{\text{ss}}$ קטן יותר, ולכן ${e}_{\text{ss}}=0$ אמ"ם $\lvert C(0) \rvert=\infty$, מה ששוב דורש אינטגרטור ב-$C$ (כלומר, בקר PI).

## שגיאה עבור הפרעת ריצה
אם $d(t)=\mathrm{ramp}(t)$, אז השגיאה במצב מצמיד:
$$\begin{aligned}
{e}_{\text{ss}} & =\left\lvert  \lim_{ s \to 0}s{T}_{d}(s) \dfrac{1}{s^{2}}  \right\rvert   \\[1ex]
 & =\lim_{ s \to 0} \dfrac{\lvert P(s) \rvert }{\lvert s(1+P(s)C(s)) \rvert } \\[1ex]
 & =\lim_{ s \to 0} \dfrac{k}{\lvert s^{2}(\tau s+1)+ksC(s) \rvert }
\end{aligned}$$
אז, אם $C(0)$ הוא סופי, מתקיים ${e}_{\text{ss}}=0$. לכן האינטגרטור ב-$C$ צריך להשאיר את ${e}_{\text{ss}}$ חסום, כלומר:
$${e}_{\text{ss}}=\lim_{ s \to 0} \dfrac{1}{\lvert sC(s) \rvert }$$
ו- ${e}_{\text{ss}}=0$ רק אם ל-$C(s)$ יש לפחות שני קטבים בראשית (אינטגרטור כפול).

## שגיאה עבור אות ייחוס או הפרעה מחזורית
במקרה של $r(t)=\sin(\omega t+\phi)\mathbb{1}(t)$, או $d(t)=\sin(\omega t+\phi)\mathbb{1}(t)$, כיוון ש:
$$\lvert P(j\omega) \rvert =\left\lvert  \dfrac{k}{j\omega(j\omega \tau+1)}  \right\rvert =\dfrac{k}{\omega\sqrt{ 1+\tau ^{2}\omega ^{2} }}\neq \infty $$
נקבל ${e}_{\text{ss}}=0$ אמ"ם $\lvert C(j\omega) \rvert=\infty$. תנאי זה דורש שהקטבים של $C(s)$ יהיו ב- $\pm j\omega$, כמו למשל:
$$C(s)=\dfrac{{b}_{2}s^{2}+{{b}_{1}}^{2}+{b}_{0}}{s^{2}+\omega ^{2}}$$

## שגיאה עבור רעש מדידה מחזורי
במקרה של $n(t)=\sin(\omega t+\phi)\mathbb{1}(t)$, כיוון ש:
$$P(j\omega)=\dfrac{k}{j\omega(j\omega \tau+1)}=\dfrac{k}{-\omega ^{2}\tau+j\omega}\neq 0$$
אז ${e}_{\text{ss}}=0$ אמ"ם $C(j\omega)=0$. תנאי זה דורש שהאפסים של $C(s)$ יהיו ב- $\pm j\omega$, כמו למשל:
$$C(s)=\dfrac{s^{2}+\omega ^{2}}{{a}_{2}s^{2}+{a}_{1}s+{a}_{0}}$$

# תרגילים

## תרגיל 1
נביט בדיאגרמת מג"ש הבאה:
![[{AD06C909-3F1E-432A-BAF0-A54399F971CD}.png|bookhue|500]]
>דיאגרמת מג"ש. [[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].

האיור לעיל מתאר את המג"ש של תהליך $P$ המבוקר במשוב יחידה עם $C(s)={k}_{p}$.
![[{39EBD566-CE14-4379-857C-A9A17162962C}.png|bookhue|500]]


### סעיף א'
האם ניתן לקבוע את $P(s)$?

### סעיף ב'
בהנחה והמקדמים של המונה של $P(s)$ הם חיוביים (המכנה הוא [[LSY1_007 Laplace Transform#Categorizing Polynomials|מוני]]), מצאו את הסימן של ${k}_{p}$ במג"ש לעיל ושרטטו את הדיאגרמת מג"ש עבור האזור המשלים.

### סעיף ג'
האיור הבא מתאר תגובת מדרגה של המחוג הסגור עבור ${k}_{p}=0.093,-0.008,1.885$. התאימו את התגובה במישור הזמן לכל אחד מהגברים אלו. מהם התדירויות במצב מתמיד של התגובות התונדות?

![[{CC662985-4FBD-4E12-96A2-841174A92F03}.png|bookhue|400]]
![[{0B9C5ACB-F532-45E4-AA89-C1CEFFF065AB}.png|bookhue|400]]
![[{11E1C60E-B625-4495-8AD4-71B013A7EC79}.png|bookhue|400]]
>תגובות מדרגה של המחוג הסגור עבור ערכי ${k}_{p}$ שונים. [[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].