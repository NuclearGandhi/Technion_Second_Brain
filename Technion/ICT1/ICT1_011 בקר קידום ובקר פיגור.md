---
aliases:
---

# מבוא

נשים לב שאם $\lvert L(j\omega) \rvert$ קטן מונוטונית והוא רציף, הקטנת או הגדלת ההגבר של החוג הסגור, תקטין או תגדיל את תדירות המעבר ${\omega}_{c}$, בהתאם:

![[{1AFCE189-EF15-484D-858F-74E6B04B7E20}.png|bookhue|500]]
>[[LSY1_009 Frequency Domain Analysis#Bode Diagram|דיאגרמת בודה]] הממחישה את השפעת ההגבר של $L(j\omega)$ על תדירות המעבר. [[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].

לכן, אם נרצה לדרוש ${\omega}_{c}={\omega}_{*}$ כאשר ${\omega}_{*}$ הוא תדר המעבר שאנו רוצים שיהיה, נבחר בקר כך ש:
$$C(s)={k}_{p}=\dfrac{1}{\lvert P(j{\omega}_{*}) \rvert }$$

נביט כעת בתהליך הבא, שנניח והוא כבר בתדירות מעבר שאנו רוצים:
$$P(s)=\dfrac{1}{s^{2}}$$
![[{0FB036FD-96B8-40DD-86F0-9E2BC065E2B3}.png|bookhue|500]]
>גרף פולארי של $P(s)$.

בקר פרופורציוני פשוט $C(s)={k}_{p}$ לא יספיק כאן כדי לייצב את המערכת. אבל, אנו יכולים לראות שאם איכשהו נקדם את הפאזה של $P(s)$, אז הגרף הפולארי יקבל קצת "בטן" למטה, כך שהגרף הפולארי לא יחתוך את הנקודה הקריטית, וגם לא יקיף אותה (לפי [[ICT1_009 יציבות בעיצוב חוג#עקום נייקוויסט כללי|נייקוויסט]]). לפיכך, נקבל מערכת יציבה.

אז, עלינו כעת למצוא בקר $C(s)$ כלשהו ש-*יקדם* את הפאזה של $P(s)$.
# בקר קידום

נביט למשל בבקר מהצורה:
$${C}_{1}(s)=\dfrac{s+b}{s+a}$$
אז, עבור $a=1$, הדיאגרמת בודה שלו:
![[{F83A4926-AAFE-4C59-8FDB-1B5AB0E53D31}.png|bookhue|600]]
>דיאגרמת בודה של ${C}_{1}(s)$ עבור ערכי $b$ שונים, ו- $a=1$.

ניתן לראות שכל בקר ${C}_{1}(s)$ עם $a>b$ יוסיף קידום פאזה לכל תדר $\omega$, ולפיכך ייצב את האינטגרטור הכפול. אבל נשים לב ש-${C}_{1}(s)$ כזה *ישנה* את ${\omega}_{c}$, שזה לא משהו שאנו רוצים. כדי להתייחס לבעיה נוכל לרשום את הבקר בצורה קצת שונה:
$${C}_{\text{lead}}(s):=\dfrac{\sqrt{ \alpha  }s+{\omega}_{m}}{s+\sqrt{ \alpha  }{\omega}_{m}}=\sqrt{ \alpha } \dfrac{s+{\omega}_{m}/\sqrt{ \alpha  }}{s+\alpha {\omega}_{m}/\sqrt{ \alpha  }}$$
כאשר $\alpha>1$ הוא פרמטר כוונון (tuning parameter) כלשהו. לגבי ${\omega}_{m}$, נשים לב מה מתרחש סביבו:
![[{3A315869-4437-48F0-888C-A64B44D8AA7E}.png|bookhue|600]]
>דיאגרמת בודה של ${C}_{\text{lead}}(s)$.

ניתן לראות שליד ${\omega}_{m}$, אנו מקבלים את קידום הפאזה הכי הגדול, בעוד ההגבר הוא פשוט $\lvert {C}_{\text{lead}}(j{\omega}_{m}) \rvert=\pu{0dB}=1$. לכן, נרצה  לבחור את ${C}_{\text{lead}}(s)$ עם ${\omega}_{m}={\omega}_{c}$.

>[!notes] הערה: 
 >למען האמת, ליאוניד ממליץ לבחור ${\omega}_{m}$ שטיפה יותר קטן מ-${\omega}_{c}$, מסיבות שאני לא זוכר אבל אם ליאוניד אמר אז ליאוניד אמר.
 
מבחינת ההשפעה של $\alpha$:
![[{C320AEF7-D8B5-4804-BBAD-8EBF27A4585E}.png|bookhue|600]]
>דיאגרמת בודה של ${C}_{\text{lead}}(s)$ עבור ערכי $\alpha$ שונים ו-${\omega}_{m}=1$.

נסיק שאם אנו בוחרים ${\omega}_{m}={\omega}_{c}$, אז ${C}_{\text{lead}}(s)$:
- לא משנה את ${\omega}_{c}$.
- מגדיל את ${\mu}_{\text{ph}}$.

אבל, הוא גם:
- מקטין את ההגבר בתדירויות נמוכות.
- מגדיל את ההגבר בתדירויות גבוהות.
- מקטין את ${\mu}_{g}$ (כי לרוב ${\omega}_{c}<{\omega}_{\phi}$, ו- $\lvert {C}_{\text{lead}}(j\omega) \rvert>1$ ל-$\omega>{\omega}_{m}$).


>[!TODO] TODO: להשלים

# בקר פיגור
אחת מהבעיות של בקר קידום היא שהיא מחריפה את שגיאת המצב המתמיד של החוג הסגור:
![[{C0234562-C1A2-481F-92ED-B93A89B18C1A}.png|bookhue|500]]
>תגובת החוג הסגור הכולל הפרעות, עבור ערכי $\alpha$ שונים.

כדי להסביר זאת, נזכור ש[[ICT1_007 משוב בהגברים גבוהים#שגיאה עבור הפרעת מדרגה|השגיאה עבור הפרעת מדרגה]] היא:
$${e}_{\text{ss}}=\dfrac{1}{{C}_{\text{lead}}(0)}=\sqrt{ \alpha  }$$
לכן, במקרה של ${C}_{\text{lead}}$, ככל ש-$\sqrt{ \alpha }$ גדול יותר, השגיאה במצב מתמיד גדולה יותר.
ניתן לחשוב שאולי אם נגדיל את ההגבר הסטטי של ${C}_{\text{lead}}$ אז נוכל לצמצם את בעיה זו, כלומר נבחר $C(s)=k{C}_{\text{lead}}(s)$ עבור $k>1$ כלשהו. אבל, בחירה זו:
- תעלה את ההגבר בתדרים גבוהים.
- תגדיל את רוחב הפס של המערכת יותר מהדרוש.

אנו רוצים להגדיל את ההגבר בתדרים נמוכים, בלי לשנות את ההגבר/הפאזה באזור $\omega\approx{\omega}_{c}$.

>[!TODO] TODO: להשלים

# דוגמאות תכן
נביט במערכת של בקרת מנוע DC:
![[{CD3C33FD-F022-417B-92F3-34ACE142E888}.png|bookhue|450]]

נדרוש:
- יציבות חוג סגור.
- שגיאה אפסית במצב מתמיד למדרגה ב-$r$.
- שגיאה אפסית במצב מתמיד למדרגה ב-$d$.
- [[ICT1_010 מערכות השהייה#עודפי הגבר ופאזה|הגבר פאזה]] ${\mu}_{\text{ph}}=45^{\circ}$.
- תדירות ${\omega}_{c}$ שמתפקדת כפרמטר כוונון.

>[!notes] הערה: 
 
>[!TODO] TODO: להשלים

>[!example] דוגמה: 
>נניח ש- ${\omega}_{c}=0.05$. אנו רוצים לבקר את התהליך:

![[{A1B0D788-6581-40E8-AB7E-F0F22F69C766}.png|bookhue|600]]
לכן, אם נקטין את ההגבר:
![[{968F5A68-CB90-49D9-BD91-B88E1AB38BF2}.png|bookhue|600]]

כאן, ${\mu}_{\text{ph}}\approx 90^{\circ}$, ואנו לא צריכים קידום בפאזה.
אנו רוצים גם שהשגיאה במצב מתמיד להפרעת מדרגה תתאפס. אם נשתמש בבקר פיגור עם ${\omega}_{m}=0.05$ ו- $\beta=\infty$:
![[Pasted image 20250126115359.png|bookhue|600]]
>[!TODO] TODO: להשלים



>[!example] דוגמה: 


>[!TODO] TODO: להשלים

>[!example] דוגמה: 
>נבחר כעת ${\omega}_{c}=5$. התהליך שלנו:

![[Pasted image 20250126120350.png|bookhue|600]]

זה מתחת לתדירות מעבר הרצויה, אז נוסיף הגבר $k\approx 26.9$.
![[{6B01FF3C-A4C4-435F-9E5A-5B1A69296283}.png|bookhue|600]]

כאן, ${\mu}_{\text{ph}}=22^{\circ}$, ולכן אנו צריכים קידום פאזה של $45^{\circ}-22^{\circ}+5.7^{\circ}=28.7^{\circ}$, שעבורו קידום אחד מספיק. נקבל:

![[{CA10EC09-3722-4F60-8B01-2AC6E3707AE1}.png|bookhue|600]]

כאן, ${\mu}_{\text{ph}}\approx 50.7^{\circ}$, שזה בדיוק מה שאנו צריכים לפני שהבקר פיגור מוסיף את ה-$5.7^{\circ}$ שלו. ביחד עם הבקר פיגור נקבל:
![[{466FA29F-38E4-4CD3-A4DF-C681FE4C56DC}.png|bookhue|600]]

זה מניב ${\mu}_{\text{ph}}\approx 45^{\circ}$, שזה בדיוק מה שאנו צריכים. הבקר המתקבל הוא:
$$C(s)=k{C}_{\text{lead}}(s){C}_{\text{lag}}(s)=\dfrac{45.619(s+2.951)(s+0.5)}{s(s+8.471)}$$

תגובת המערכת:
![[Pasted image 20250126121015.png|bookhue|600]]

התגובה להפרעה:
![[{02D27A87-EE47-4FA3-9992-3E05D439CA00}.png|bookhue|600]]

תגובת האות בקרה:
![[{F6BEF0B9-ED98-45AC-AE0F-6274BEF60A28}.png|bookhue|600]]

>[!TODO] TODO: להשלים