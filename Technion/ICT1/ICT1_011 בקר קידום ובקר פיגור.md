---
aliases:
---

# מבוא

נשים לב שאם $\lvert L(j\omega) \rvert$ קטן מונוטונית והוא רציף, הקטנת או הגדלת ההגבר של החוג הסגור, תקטין או תגדיל את תדירות המעבר ${\omega}_{c}$, בהתאם:

![[{1AFCE189-EF15-484D-858F-74E6B04B7E20}.png|bookhue|500]]
>[[LSY1_009 Frequency Domain Analysis#Bode Diagram|דיאגרמת בודה]] הממחישה את השפעת ההגבר של $L(j\omega)$ על תדירות המעבר. [[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].

לכן, אם נרצה לדרוש ${\omega}_{c}={\omega}_{*}$ כאשר ${\omega}_{*}$ הוא תדר המעבר שאנו רוצים שיהיה, נבחר בקר כך ש:
$$C(s)={k}_{p}=\dfrac{1}{\lvert P(j{\omega}_{*}) \rvert }$$

נביט כעת בתהליך הבא, שנניח והוא כבר בתדירות מעבר שאנו רוצים:
$$P(s)=\dfrac{1}{s^{2}}$$
![[{0FB036FD-96B8-40DD-86F0-9E2BC065E2B3}.png|bookhue|500]]
>גרף פולארי של $P(s)$. [[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].

בקר פרופורציוני פשוט $C(s)={k}_{p}$ לא יספיק כאן כדי לייצב את המערכת. אבל, אנו יכולים לראות שאם איכשהו נקדם את הפאזה של $P(s)$, אז הגרף הפולארי יקבל קצת "בטן" למטה, כך שהגרף הפולארי לא יחתוך את הנקודה הקריטית, וגם לא יקיף אותה (לפי [[ICT1_009 יציבות בעיצוב חוג#עקום נייקוויסט כללי|נייקוויסט]]). לפיכך, נקבל מערכת יציבה.

אז, עלינו כעת למצוא בקר $C(s)$ כלשהו ש-*יקדם* את הפאזה של $P(s)$.
# בקר קידום

נביט למשל בבקר מהצורה:
$${C}_{1}(s)=\dfrac{s+b}{s+a}$$
אז, עבור $a=1$, הדיאגרמת בודה שלו:
![[{F83A4926-AAFE-4C59-8FDB-1B5AB0E53D31}.png|bookhue|600]]
>[[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].

ניתן לראות שכל בקר ${C}_{1}(s)$ עם $a>b$ יוסיף קידום פאזה לכל תדר $\omega$, ולפיכך ייצב את האינטגרטור הכפול. אבל נשים לב ש-${C}_{1}(s)$ כזה *ישנה* את ${\omega}_{c}$, שזה לא משהו שאנו רוצים. כדי להתייחס לבעיה נוכל לרשום את הבקר בצורה קצת שונה:
$${C}_{\text{lead}}(s):=\dfrac{\sqrt{ \alpha  }s+{\omega}_{m}}{s+\sqrt{ \alpha  }{\omega}_{m}}=\sqrt{ \alpha } \dfrac{s+{\omega}_{m}/\sqrt{ \alpha  }}{s+\alpha {\omega}_{m}/\sqrt{ \alpha  }}$$
כאשר $\alpha>1$ הוא פרמטר כוונון (tuning parameter) כלשהו. לגבי ${\omega}_{m}$, נשים לב מה מתרחש סביבו:
![[{3A315869-4437-48F0-888C-A64B44D8AA7E}.png|bookhue|600]]
>[[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].

ניתן לראות שליד ${\omega}_{m}$, אנו מקבלים את קידום הפאזה הכי הגדול, בעוד ההגבר הוא פשוט $\lvert {C}_{\text{lead}}(j{\omega}_{m}) \rvert=\pu{0dB}=1$. לכן, נרצה  לבחור את ${C}_{\text{lead}}(s)$ עם ${\omega}_{m}={\omega}_{c}$.

>[!notes] הערה: 
 >למען האמת, ליאוניד ממליץ לבחור ${\omega}_{m}$ שטיפה יותר קטן מ-${\omega}_{c}$, מסיבות שאני לא זוכר אבל אם ליאוניד אמר אז ליאוניד אמר.
 
מבחינת ההשפעה של $\alpha$:
![[{C320AEF7-D8B5-4804-BBAD-8EBF27A4585E}.png|bookhue|600]]
>[[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].

נסיק שאם אנו בוחרים ${\omega}_{m}={\omega}_{c}$, אז ${C}_{\text{lead}}(s)$:
- לא משנה את ${\omega}_{c}$.
- מגדיל את ${\mu}_{\text{ph}}$.

אבל, הוא גם:
- מקטין את ההגבר בתדירויות נמוכות.
- מגדיל את ההגבר בתדירויות גבוהות.
- מקטין את ${\mu}_{g}$ (כי לרוב ${\omega}_{c}<{\omega}_{\phi}$, ו- $\lvert {C}_{\text{lead}}(j\omega) \rvert>1$ ל-$\omega>{\omega}_{m}$).

נביט כעת בדיאגרמות של המערכת בחוג פתוח עבור אותם ערכי $\alpha$ ו-${\omega}_{m}$:
![[{8C516FAB-1574-4996-8658-4B8038DB1881}.png|bookhue]]

מבחינת החוג הסגור, תגובת המדרגה תהיה:
![[{BAC3E726-0550-4344-91D2-72448895ABF5}.png|bookhue|500]]
>תגובת מדרגה של החוג הסגור.

ניתן להראות שגובה ה"בטן" המקסימלי, שהוא למעשה קידום הפאזה המקסימלי ${\phi}_{m}$, מתרחש ב-${\omega}_{m}$, והוא מקיים:
$${\phi}_{m}=\arcsin\left( \dfrac{\alpha -1}{\alpha +1} \right)$$
גרף להמחשת פונקציה זו:
![[{21E079F4-4653-4D7A-880F-15063221D680}.png|bookhue|600]]
>קידום הפאזה המקסימלי כתלות ב-$\alpha$.

מאחר והשיפוע של הגרף לעיל לערכי $\alpha$ גדולים הוא די נמוך, נאמר שערכי $\alpha\geq 14$ לרוב לא כל כך פרקטיים. אנחנו גם לא נקבל הרבה מבחינת קידום פאזה, וגם נשלם הרבה במאמץ בקרה.
נשים לב שעבור $\alpha=14$ הקידום פאזה המקסימלי הוא $\sim 60^{\circ}$, כך שאם נרצה קידום פאזה יותר גדול מערך זה, אנחנו למעשה בבעיה. בעיה שאנו יודעים לפתור פשוט בעזרת *עוד* בקר קידום. genius.
![[{919B834D-7B85-4BBB-A653-91A556776CA3}.png|bookhue|500]]
>השפעת עוד בקרי קידום על קידום הפאזה המקסימלי.

# בקר פיגור
אחת מהבעיות של בקר קידום היא שהיא מחריפה את שגיאת המצב המתמיד של החוג הסגור:
![[{C0234562-C1A2-481F-92ED-B93A89B18C1A}.png|bookhue|500]]

כדי להסביר זאת, נזכור ש[[ICT1_007 משוב בהגברים גבוהים#שגיאה עבור הפרעת מדרגה|השגיאה עבור הפרעת מדרגה]] היא:
$${e}_{\text{ss}}=\dfrac{1}{{C}_{\text{lead}}(0)}=\sqrt{ \alpha  }$$
לכן, במקרה של ${C}_{\text{lead}}$, ככל ש-$\sqrt{ \alpha }$ גדול יותר, השגיאה במצב מתמיד גדולה יותר.
ניתן לחשוב שאולי אם נגדיל את ההגבר הסטטי של ${C}_{\text{lead}}$ אז נוכל לצמצם את בעיה זו, כלומר נבחר $C(s)=k{C}_{\text{lead}}(s)$ עבור $k>1$ כלשהו. אבל, בחירה זו:
- תעלה את ההגבר בתדרים גבוהים.
- תגדיל את רוחב הפס של המערכת יותר מהדרוש.

אנו רוצים להגדיל את ההגבר בתדרים נמוכים, בלי לשנות את ההגבר/הפאזה באזור ${\omega}_{c}$.
כדי לפתור את בעיה זו, אנו מציעים להוסיף לבקר קידום עוד בקר, שנקרא **בקר פיגור**. צורתו הכללית:
$${C}_{\text{lag}}(s)=\dfrac{10s+{\omega}_{m}}{10s+{\omega}_{m}/\beta}=\dfrac{s+0.1{\omega}_{m}}{s+0.1{\omega}_{m}/\beta}$$
כאשר $\beta>1$ הוא פרמטר כוונון.

![[{5D29B603-FB17-4B36-B479-3A829FC9DCBD}.png|bookhue|600]]
>[[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].

אז למשל:
![[{17ADD52E-7DB2-4F44-B572-DE1FC132D772}.png|bookhue|600]]
>[[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].

אם אנו רוצים שגיאה אפסית במצב מתמיד עבור $d=\mathbb{1}$, אז נבחר $\beta=\infty$. נבחר גם ${\omega}_{m}=1$ ל-${C}_{\text{lag}}$, ונבחן את הבקר:
$$C(s)={C}_{\text{lead}}(s){C}_{\text{lag}}(s)$$
נקבל:
![[{A4A0DE9D-833C-4A55-9EAA-6378DF4555F5}.png|bookhue]]
>[[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].

תגובת המדרגה תהיה כעת:
![[{1C8A8693-BA93-4B98-9045-89B6883E602D}.png|bookhue|600]]


אם אנו בוחרים ${\omega}_{m}={\omega}_{c}$, אז ${C}_{\text{lag}}(s)$:
- מגדיל את ההגבר בתדרים נמוכים של $L(j\omega)$.
- מעלה לכל היותר ב-$5.7^{\circ}$ את הפיגור בפאזה, שאנו יכולים לקזז ע"י בקר קידום.

אבל:
- הוא מעלה את הפיגור הפאזה.
- הוא מעלה את ההגבר באזור ${\omega}_{c}$ (לכל היותר ב-$\sqrt{ 2 }$).

# דוגמאות תכן
נביט במערכת של בקרת מנוע DC:
![[{CD3C33FD-F022-417B-92F3-34ACE142E888}.png|bookhue|450]]

נדרוש:
- יציבות חוג סגור.
- שגיאה אפסית במצב מתמיד למדרגה ב-$r$.
- שגיאה אפסית במצב מתמיד למדרגה ב-$d$.
- [[ICT1_010 מערכות השהייה#עודפי הגבר ופאזה|הגבר פאזה]] ${\mu}_{\text{ph}}=45^{\circ}$.
- תדירות ${\omega}_{c}$ שמתפקדת כפרמטר כוונון.

>[!notes] הערה: 
>אנו מניחים שהתהליך מנורמל, כך שמבחינת האות בקרה, $\lvert u(t) \rvert<1$ נחשב "קטן", ו-$\lvert u(t) \rvert>1$ הוא "גדול".


>[!example] דוגמה: 
>לקוח מ-[[ICT1_000 00340040 מבוא לבקרה#ביבליוגרפיה|(Leonid Mirkin’s Homepage, n.d.)]].
>נניח ש- ${\omega}_{c}=0.05$. אנו רוצים לבקר את התהליך:
> ![[{A1B0D788-6581-40E8-AB7E-F0F22F69C766}.png|bookhue]]
> לכן, אם נקטין את ההגבר, נקבל את ${\omega}_{c}$ הרצוי:
> ![[{FD5B8C63-6B48-4D3B-BC3F-87D81A7F093E}.png|bookhue]]
> 
> כאן, ${\mu}_{\text{ph}}\approx 90^{\circ}$, ואנו לא צריכים קידום בפאזה.
> אנו רוצים גם שהשגיאה במצב מתמיד להפרעת מדרגה תתאפס. אם נשתמש בבקר פיגור עם ${\omega}_{m}=0.05$ ו- $\beta=\infty$:
> ![[Pasted image 20250126115359.png|bookhue]]
> זה נותן לנו ${\mu}_{\text{ph}}\approx 83^{\circ}$, שזה אחלה. הבקר המתקבל הוא:
> $$C(s)=k{C}_{\text{lag}}(s)=\dfrac{0.10003(s+0.005)}{s}$$
> 
> ![[{C63192E1-8BA6-48EE-89A0-C7750EEDC213}.png|bookhue]]
> 
> נשים לב ש:
> - שיא התהודה (הרזוננס) מאוד קטן, ולכן התגובת-יתר, OS, קטנה.
> - רוחב הפס של החוג הסגור הוא בערך ${\omega}_{b}\approx 0.0562$, שזה קצת יותר מ- ${\omega}_{c}=0.05$, וקטן יותר מהרוחב פס בחוג הפתוח.
> 
> התגובה להפרעה:
> ![[{8E066534-DC22-4DA4-9C5A-3ECE8A5B9FE7}.png|bookhue]]
> 
> נשים לב שכיוון שאין הרבה הגבר סטטי לבקר, הרגישות להפרעה די גבוה.
> מבחינת מאמץ בקרה:
> ![[{8DBA1F0C-4DCE-4DEA-9D22-04C8A8CFBE5E}.png|bookhue]]
> 
> נשים לב שמאחר והרוחב פס של החוג הסגור יותר קטן מהרוחב פס של החוג הפתוח, אנו מקבלים מאמץ בקרה נמוך.

>[!example] דוגמה: 
> 
> נעבוד עם אותו התהליך, אבל נדרוש ${\omega}_{c}=0.5$. נקבל:
> ![[{FD0F5421-7DFF-4421-871E-5B8AEE7EC0C2}.png|bookhue]]
> כאן ${\mu}_{\text{ph}} \approx 76^{\circ}$, כך שאנו עדיין לא צריכים בקר קידום, גם אחרי שהבקר פיגור יוסיף $5.7^{\circ}$.
> נבחר בקר פיגור עם ${\omega}_{m}=0.5$ ו-$\beta=\infty$:
> ![[{3B67926D-991E-4A9A-BE55-0B9EE63423A2}.png|bookhue]]
> אנו מקבלים ${\mu}_{\text{ph}}=70^{\circ}$, שזה גם יותר ממה שאנו צריכים. נקבל את הבקר:
> $$C(s)=k{C}_{\text{lag}}(s)=\dfrac{1.0308(s+0.05)}{s}$$
> ![[{84ABB08D-2BC0-4EE5-8BB1-606AA9BE3E8E}.png|bookhue]]
> 
> נשים לב ש:
> - שיא התהודה (הרזוננס) מאוד קטן, ולכן התגובת-יתר, OS, קטנה.
> - רוחב הפס של החוג הסגור הוא בערך ${\omega}_{b}\approx 0.7161$, שזה קצת יותר מ- ${\omega}_{c}=0.5$, ובערך שווה לרוחב הפס בחוג הפתוח.
> 
> התגובה להפרעה:
> ![[{2CF9359D-FA89-4522-A677-468047B7D510}.png|bookhue]]
> נשים לב שמאחר וההגבר הסטטי של הבקר יותר גבוה, הרגישות להפרעות יותר נמוכה.
> 
> מבחינת מאמץ בקרה:
> ![[{A8A740A3-92D1-456D-87F0-D5D953741F75}.png|bookhue]]
> רוחב הפס של החוג הסגור בערך באותו הסדר גודל של החוג הפתוח, ולכן המאמץ בקרה כאן יותר גבוה ממקודם.
> 

>[!example] דוגמה: 
>נבחר כעת ${\omega}_{c}=5$ לתהליך. לכן, נוסיף הגבר $k\approx 26.9$.
>![[{6B01FF3C-A4C4-435F-9E5A-5B1A69296283}.png|bookhue]]
> כאן, ${\mu}_{\text{ph}}=22^{\circ}$, ולכן אנו צריכים קידום פאזה של $45^{\circ}-22^{\circ}+5.7^{\circ}=28.7^{\circ}$, שעבורו קידום אחד מספיק. נקבל:
> 
> ![[{CA10EC09-3722-4F60-8B01-2AC6E3707AE1}.png|bookhue]]
> 
> כאן, ${\mu}_{\text{ph}}\approx 50.7^{\circ}$, שזה בדיוק מה שאנו צריכים לפני שהבקר פיגור מוסיף את ה-$5.7^{\circ}$ שלו. ביחד עם הבקר פיגור נקבל:
> ![[{466FA29F-38E4-4CD3-A4DF-C681FE4C56DC}.png|bookhue]]
> 
> זה מניב ${\mu}_{\text{ph}}\approx 45^{\circ}$, שזה בדיוק מה שאנו צריכים. הבקר המתקבל הוא:
> $$C(s)=k{C}_{\text{lead}}(s){C}_{\text{lag}}(s)=\dfrac{45.619(s+2.951)(s+0.5)}{s(s+8.471)}$$
> 
> תגובת המערכת:
> ![[Pasted image 20250126121015.png|bookhue]]
> 
> מגניב. קיבלנו תהודה יותר גדולה, ולכן OS יותר גדול. בנוסף רוחב הפס של המערכת הוא ${\omega}_{b} \approx 8.3176$, שזה קצת יותר מ- ${\omega}_{c}=5$, ויותר גבוה מרוחב הפס של המערכת בחוג פתוח.
> התגובה להפרעה:
> ![[{02D27A87-EE47-4FA3-9992-3E05D439CA00}.png|bookhue]]
> מגניב. הגבר סטטי גבוה על הבקר נותן לנו רגישות להפרעות יותר נמוכה.
> 
> תגובת האות בקרה:
> ![[{F6BEF0B9-ED98-45AC-AE0F-6274BEF60A28}.png|bookhue]]
> וואלה באסה. no free lunches כמו שליאוניד אומר. מאחר ורוחב הפס של החוג הסגור גדול יותר מרוחב הפס של החוג הפתוח, אנו מקבלים מאמץ בקרה די גבוה.

